
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">
      <div class="card tab2-card">
        <div class="card-body tab2-card">
          <ngb-tabset class="tab-coupon">

            <ngb-tab [title]="getActiveTabTitle()" *ngIf="qaTables">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div *ngIf="isAdmin" class="btn-popup pull-right">
                      <select (change)="getSelectedPartnerProduct()" id="select_pro" class="form-control">
                        <option selected>-- Select Vendor --</option>
                        <option *ngFor="let partnerArrays of partnerArray" value="{{partnerArrays['name']}}">
                          {{partnerArrays['name']}}
                        </option>

                      </select>
                    </div>
                    <div class="col-md-10">
                      <input autofocus type="text" class="form-control" placeholder="Search By Product Name..."
                             (input)="ActiveProductFilter($event.target.value)"/>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <table class="table table-sm table-bordered">
                            <thead class="table-primary">
                            <tr>
                              <th>Product Image</th>
                              <th>Title</th>
                              <th>Price</th>
                              <th>Stock in hand</th>
                              <th>Create Date</th>
                              <th>Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <ng-container *ngIf="filteredProducts.length > 0; else paginatedData">
                              <!-- Display filtered products -->
                              <tr *ngFor="let productDetail of filteredProducts; let i = index;">
                                <td align="center"><img src="{{ imagePathURI + productDetail.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)" (click)="popUpImageActive(i)" /></td>
                                <!--<td> <p>{{productDetail.title}}</p><p>{{ productDetail.productCode }}</p><p>{{productDetail.vendor}}</p><p>{{productDetail.categoryPath}}</p></td>-->
                                <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000; cursor: pointer"><a (click)="loadPage(i)">{{ productDetail.title}}</a></p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ productDetail.productCode }}</p><p  style="margin: 0; color: #190482; font-weight: 600; font-size: 14px">&nbsp; &nbsp;{{productDetail.vendor}}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{productDetail.categoryPath}}</p></td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="productDetail.price" autofocus/>
                                  <img [hidden]="true" style="text-align: right" mat-button (click)="EditPricePopup(i,1)"
                                       *ngIf="EnablePriceEdit"
                                       src="assets/images/EditImage.png" height="20px" weight="20px" title="Edit Price">
                                </td>
                                <td>
                                  <input type="text" disabled style="width:70px; height: 30px; border: none;"
                                         [value]="productDetail.in_stock"/>
                                  <img style="text-align: right" mat-button (click)="EditStockPopup(i,1,0)"
                                       *ngIf="EnableStockEdit"
                                       src="assets/images/EditImage.png" height="20px" weight="20px" title="Edit Stock">
                                </td>
                                <td>{{ productDetail.createDate }}</td>
                                <td>
                                  <button type="button" (click)='editGetProduct3(i)'
                                          style="width: 80px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">View
                                  </button>
                                  <button *ngIf="isPartner" type="button" (click)='editGetProduct2(i)'
                                          style="width: 80px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-info">edit
                                  </button>
                                  <button type="button" (click)='deleteActiveProduct(productDetail.productCode)'
                                          style="width: 80px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-danger">delete
                                  </button>
                                  <button type="button" (click)='outButton(i, 1,0)'
                                          style="width: 80px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-warning">out
                                  </button>
                                </td>
                              </tr>
                            </ng-container>
                            <ng-template #paginatedData>
                              <!-- Display paginated items if filteredProducts is empty -->
                              <ng-container *ngFor="let rowIndex of [1,2,3]">
                                <!--                              show skeleton loader until product load-->
                                <tr *ngIf="stillLoading">
                                  <td>
                                    <ngx-skeleton-loader count="1" animation="pulse"></ngx-skeleton-loader>
                                  </td>
                                  <td>
                                    <ngx-skeleton-loader count="1" animation="pulse"></ngx-skeleton-loader>
                                  </td>
                                  <td>
                                    <ngx-skeleton-loader count="1" animation="pulse"></ngx-skeleton-loader>
                                  </td>
                                  <td>
                                    <ngx-skeleton-loader count="1" animation="pulse"></ngx-skeleton-loader>
                                  </td>
                                  <td>
                                    <ngx-skeleton-loader count="1" animation="pulse"></ngx-skeleton-loader>
                                  </td>
                                  <td>
                                    <ngx-skeleton-loader count="1" animation="pulse"></ngx-skeleton-loader>
                                  </td>
                                </tr>
                              </ng-container>
                              <!--                              show skeleton loader until product loa end-->

                              <tr
                                *ngFor="let productDetail of (paginatedItems.length > 0 ? paginatedItems : list_pages); let i = index;">
                                <td align="center">{{stopLoading()}}<img src="{{ imagePathURI + productDetail.image }}" (click)="popUpImageActive(i)" height="60px"
                                                                         width="60px"
                                                                         (error)="onImageError($event)" /></td>
                                <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000; cursor: pointer"><a (click)="loadPage(i)">{{ productDetail.title}}</a></p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ productDetail.productCode }}</p><p  style="margin: 0; color: #190482; font-weight: 600; font-size: 14px">&nbsp; &nbsp;{{productDetail.vendor}}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{productDetail.categoryPath}}</p></td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="productDetail.price" autofocus/>
                                  <!--[hidden]="true"-->
                                  <img [hidden]="true" style="text-align: right" mat-button (click)="EditPricePopup(i, 1)"
                                       *ngIf="EnablePriceEdit"
                                       src="assets/images/EditImage.png" height="20px" weight="20px" title="Edit Price">

                                  <button [hidden]="true" *ngIf="EnablePriceEdit" type="button" class="btn btn-primary"
                                          style="text-align: right" (click)="popup(productDetail.price,productDetail.productCode)"><i class="fa fa-edit"></i> </button>
                                </td>
                                <td>
                                  <input type="text" disabled style="width:70px; height: 30px; border: none;"
                                         [value]="productDetail.in_stock"/>
                                </td>
                                <td>{{ productDetail.createDate }}</td>
                                <td>
                                  <button type="button" (click)='editGetProduct3(i)'
                                          style="width: 80px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">view
                                  </button>
                                  <button *ngIf="isPartner" type="button" (click)='editGetProduct2(i)'
                                          style="width: 80px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-info">edit
                                  </button>
                                  <button type="button" (click)='deleteActiveProduct(productDetail.productCode)'
                                          style="width: 80px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-danger">delete
                                  </button>
                                  <button type="button" (click)='outButton(i, 1,0)'
                                          style="width: 80px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-warning">out
                                  </button>
                                </td>
                              </tr>
                            </ng-template>
                            <ng-template #imagePopup let-modal>
                              <div class="modal-content" >
                                <div class="modal-header">
                                  <h4 class="modal-title">Image Preview</h4>
                                  <button type="button" class="close" (click)="closePopup()">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <img [src]="imageUrl" alt="Image" class="img-fluid">
                                </div>
                              </div>
                            </ng-template>
                            <ng-template #pricePopup let-modal>
                              <div class="modal-content" >
                                <div class="modal-header">
                                  <h4 class="modal-title">Change Price</h4>
                                  <button type="button" class="close" (click)="closePopup()">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <form>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <label for="oldPrice">Old Price</label>
                                        <input class="form-control" id="oldPrice" disabled type="text" value="{{oldPrice}}"/>
                                      </div>
                                      <div class="col-md-6">
                                        <label for="newPrice">New Price</label>
                                        <input class="form-control" id="newPrice" type="text"/>
                                      </div>
                                    </div>
                                    <br>
                                    <button type="submit" class="btn btn-primary" style="float: right">Submit</button>
                                  </form>
                                </div>

                              </div>
                            </ng-template>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <div class="pull-right" style="margin-top: 15px">
                      <app-pagination
                        [currentPage]="currentPage"
                        [totalPages]="totalPages"
                        (pageChange)="onPageChange($event,'ActivePro')"
                      ></app-pagination>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab [title]="getPendingApprovalList()" *ngIf="isAdmin">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account1" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="row">
                      <div class="col-md-6">
                        <input autofocus type="text" class="form-control" placeholder="Search By Product Name..."
                               (input)="PendingProductFilter($event.target.value)" style="width: 60%"/>
                      </div>
                      <div class="col-md-6">
                        <input autofocus type="text" class="form-control" placeholder="Search By Business Name..."
                               (input)="PendingProductFilterByBusinessName($event.target.value)"  style="width: 60%"/>
                      </div>
                    </div>

                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <table class="table table-sm table-bordered">
                            <thead class="table-primary">
                            <tr>
                              <th>Product Image</th>
                              <th>Title</th>
                              <th>Price</th>
                              <th>Stock in hand</th>
                              <th>Create Date</th>
                              <th>Action</th>
                            </tr>
                            </thead>
                            <tbody>

                            <ng-template #imagePopup let-modal>
                              <div class="modal-content" >
                                <div class="modal-header">
                                  <h4 class="modal-title">Image Preview</h4>
                                  <button type="button" class="close" (click)="closePopup()">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <img [src]="imageUrl" alt="Image" class="img-fluid">
                                </div>
                              </div>
                            </ng-template>

                            <ng-container *ngIf="filteredPendingProducts.length > 0; else paginatedData_PA">
                              <!-- Display filtered products -->
                              <tr *ngFor="let nonActiveProduct of filteredPendingProducts; let j = index;">
                                <td align="center"><img src="{{ imagePathURI + nonActiveProduct.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)" (click)="popUpImage(j)" /></td>
                                <!--<td>{{ nonActiveProduct.title }}<br>{{ nonActiveProduct.productCode }}<br>{{ nonActiveProduct.vendor }} <br>{{ nonActiveProduct.categoryPath }}</td>-->
                                <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000">{{ nonActiveProduct.title}}</p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ nonActiveProduct.productCode }}</p><p  style="margin: 0; color: #190482; font-weight: 600; font-size: 14px">&nbsp; &nbsp;{{nonActiveProduct.vendor}}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{nonActiveProduct.categoryPath}}</p></td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="nonActiveProduct.price" autofocus/>
                                </td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="nonActiveProduct.in_stock"/>
                                </td>
                                <td>{{ nonActiveProduct.createDate }}</td>
                                <td>
                                  <button type="button" (click)='ApproveProductNon(j)'
                                          style="width: 96px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">Approve
                                  </button>
                                </td>
                              </tr>
                            </ng-container>

                            <!-----------------------------default View------------------------------------------>
                            <ng-template #paginatedData_PA>
                              <!-- Display paginated items if filteredProducts is empty -->
                              <tr
                                *ngFor="let nonActiveProduct of (paginatedPendingItems.length > 0 ? paginatedPendingItems : nonActiveProductsArray); let j = index;">
                                <td align="center"><img src="{{ imagePathURI + nonActiveProduct.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)" (click)="popUpImage(j)"/></td>
                                <!--<td>{{ nonActiveProduct.title }}<br>{{ nonActiveProduct.productCode }}<br>{{ nonActiveProduct.vendor }}<br>{{ nonActiveProduct.categoryPath }}</td>-->
                                <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000">{{ nonActiveProduct.title}}</p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ nonActiveProduct.productCode }}</p><p  style="margin: 0; color: #190482; font-weight: 600; font-size: 14px">&nbsp; &nbsp;{{nonActiveProduct.vendor}}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{nonActiveProduct.categoryPath}}</p></td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="nonActiveProduct.price" autofocus/>
                                </td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="nonActiveProduct.in_stock"/>
                                </td>
                                <td>{{ nonActiveProduct.createDate }}</td>
                                <td>
                                  <button type="button" (click)='ApproveProductNon(j)'
                                          style="width: 96px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">Review
                                  </button>
                                </td>
                              </tr>
                            </ng-template>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <div class="pull-right" style="margin-top: 15px">
                      <app-pagination
                        [currentPage]="currentPagePA"
                        [totalPages]="totalPagesPA"
                        (pageChange)="onPageChange($event,'PendingPro')"
                      ></app-pagination>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab title="Edit Product Approval" *ngIf="isAdmin">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account2" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="clearfix"></div>
                    <div class="col-md-6">
                      <input autofocus type="text" class="form-control" placeholder="Search By Requested Name..."
                             (input)="editProductApprovalFilter($event.target.value)"  style="width: 60%"/>
                    </div>

                    <table class="table table-sm table-bordered">
                      <thead class="table-primary">
                      <tr>
                        <th>Product Image </th>
                        <th>Title</th>
                        <th>Requested Date</th>
                        <th>Request By</th>
                        <th>Action</th>
                      </tr>
                      </thead>
                      <tbody>

                      <ng-container *ngIf="filterededitProductApproval.length > 0; else paginatedDataEditProduct">
                        <tr *ngFor="let nonActiveProduct of filterededitProductApproval; let j = index;">
                          <td align="center">
                            <img src="{{ imagePathURI + nonActiveProduct.image }}" height="60px"
                                 width="60px"
                                 (error)="onImageError($event)" />
                          </td>
                          <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000">{{ nonActiveProduct.title}}</p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ nonActiveProduct.productCode }}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{nonActiveProduct.categoryPath}}</p></td>
                          <td>
                            {{nonActiveProduct.requestedDate}}
                          </td>
                          <td>
                            {{nonActiveProduct.requestBy}}
                          </td>
                          <td>
                            <button type="button" (click)='ApproveEditProduct(j)'
                                    style="width: 96px;height: 28px;font-size: 10px;"
                                    class="btn btn-outline-success">View
                            </button>
                          </td>
                        </tr>
                      </ng-container>

                      <ng-template #paginatedDataEditProduct>
                        <tr *ngFor="let nonActiveProduct of nonActiveEditedProductsArray; let j = index;">
                          <td align="center">
                            <img src="{{ imagePathURI + nonActiveProduct.image }}" height="60px"
                                 width="60px"
                                 (error)="onImageError($event)" />
                          </td>
                          <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000">{{ nonActiveProduct.title}}</p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ nonActiveProduct.productCode }}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{nonActiveProduct.categoryPath}}</p></td>
                          <td>
                            {{nonActiveProduct.requestedDate}}
                          </td>
                          <td>
                            {{nonActiveProduct.requestBy}}
                          </td>
                          <td>
                            <button type="button" (click)='ApproveEditProduct(j)'
                                    style="width: 96px;height: 28px;font-size: 10px;"
                                    class="btn btn-outline-success">View
                            </button>
                          </td>
                        </tr>

                      </ng-template>

                      </tbody>
                    </table>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab title="Edit Image Approval" *ngIf="isAdmin">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account2" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="clearfix"></div>
                    <table class="table table-sm table-bordered">
                      <thead class="table-primary">
                      <tr>
                        <th>Title</th>
                        <th>Requested Date</th>
                        <th>Request By</th>
                        <th>Action</th>
                      </tr>
                      </thead>
                      <tbody>

                      <ng-container>
                        <tr *ngFor="let nonActiveProduct of nonActiveEditedImageProductsArray; let j = index;">


                          <td><p
                            style="margin: 0px; font-size: 16px;font-weight: 600; color: #000">{{ nonActiveProduct.title}}</p>
                            <p
                              style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ nonActiveProduct.productCode }}</p>
                            <p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600"> &nbsp;
                              &nbsp;{{nonActiveProduct.catePath}}</p>
                          </td>


                          <td>
                            {{nonActiveProduct.requestedDate}}
                          </td>
                          <td>
                            {{nonActiveProduct.requestBy}}
                          </td>
                          <td>
                            <button type="button" (click)='ApproveEditProduct(j)'
                                    style="width: 96px;height: 28px;font-size: 10px;"
                                    class="btn btn-outline-success">View
                            </button>
                          </td>
                        </tr>
                      </ng-container>

                      </tbody>
                    </table>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab [title]="getPendingQC()" *ngIf="isPartner">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account4" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="col-md-9">
                      <input autofocus type="text" class="form-control" placeholder="Search By Product Name..."
                             (input)="PendingQCFilter($event.target.value)"/>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <table class="table table-sm table-bordered">
                            <thead class="table-primary">
                            <tr>
                              <th>Product Image</th>
                              <th>Title</th>
                              <th>Create Date</th>
                              <th>Brand</th>
                              <th>Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <ng-container *ngIf="filteredPendingQC.length > 0; else paginatedData_PQC">
                              <!-- Display filtered products -->
                              <tr *ngFor="let pendingQC of filteredPendingQC; let x = index;">
                                <td align="center"><img src="{{ imagePathURI + pendingQC.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)" (click)="popUpImagePending(x)" />
                                  <!--<td class="productData">{{ pendingQC.title }} <br> {{ pendingQC.productCode }} <br>{{ pendingQC.categoryPath }} </td>-->

                                <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000">{{ pendingQC.title}}</p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ pendingQC.productCode }}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{pendingQC.categoryPath}}</p></td>
                                <td>{{ pendingQC.createDate }}</td>
                                <td>{{ pendingQC.brand }}</td>
                                <td>
                                  <button type="button" (click)='editGetProduct(x)'
                                          style="width: 96px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">Edit
                                  </button>
                                </td>
                              </tr>
                            </ng-container>
                            <ng-template #paginatedData_PQC>
                              <!-- Display paginated items if filteredProducts is empty -->
                              <tr
                                *ngFor="let pendingQC of (paginatedPendingQC.length > 0 ? paginatedPendingQC : approvalPartnerProductList); let x = index;">
                                <td align="center"><img src="{{ imagePathURI + pendingQC.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)" (click)="popUpImagePending(x)" />
                                  <!--<td class="productData">{{ pendingQC.title }} <br> {{ pendingQC.productCode }} <br>{{ pendingQC.categoryPath }} </td>-->
                                <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000">{{ pendingQC.title}}</p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ pendingQC.productCode }}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{pendingQC.categoryPath}}</p></td>
                                <td>{{ pendingQC.createDate }}</td>
                                <td>{{ pendingQC.brand }}</td>
                                <td>
                                  <button type="button" (click)='editGetProduct(x)'
                                          style="width: 96px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">Edit
                                  </button>
                                </td>
                              </tr>
                            </ng-template>
                            <ng-template #imagePopup let-modal>
                              <div class="modal-content" >
                                <div class="modal-header">
                                  <h4 class="modal-title">Image Preview</h4>
                                  <button type="button" class="close" (click)="closePopup()">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <img [src]="imageUrl" alt="Image" class="img-fluid">
                                </div>
                              </div>
                            </ng-template>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <div class="pull-right" style="margin-top: 15px">
                      <app-pagination
                        [currentPage]="currentPagePQC"
                        [totalPages]="totalPagesPQC"
                        (pageChange)="onPageChange($event,'PendingQC')"
                      ></app-pagination>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab [title]="getOutofStock()" *ngIf="isPartner">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account5" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="col-md-9">
                      <input autofocus type="text" class="form-control" placeholder="Search By Product Name..."
                             (input)="OutofStockFilter($event.target.value)"/>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <table class="table table-sm table-bordered">
                            <thead class="table-primary">
                            <tr>
                              <th>Product Image</th>
                              <th>Title</th>
                              <th>Price</th>
                              <th>Stock in hand</th>
                              <th>Create Date</th>
                              <th>Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <ng-container *ngIf="filteredoutOfStock.length > 0; else paginatedData_OutStock">
                              <!-- Display filtered products -->
                              <tr *ngFor="let outofStockProduct of filteredoutOfStock; let a = index;">
                                <td align="center"><img src="{{ imagePathURI + outofStockProduct.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)"/></td>
                                <td>{{ outofStockProduct.title }}<br>{{ outofStockProduct.productCode }}</td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="outofStockProduct.price" autofocus/>
                                </td>
                                <td>
                                  <input type="text" disabled style="width:70px; height: 30px; border: none;"
                                         [value]="outofStockProduct.in_stock"/>
                                  <img style="text-align: right" mat-button (click)="EditStockPopup(a,0,1)"
                                       *ngIf="EnableStockEdit"
                                       src="assets/images/EditImage.png" height="20px" weight="20px" title="Edit Stock">
                                </td>
                                <td>{{ outofStockProduct.createDate }}</td>
                                <td>
                                  <button type="button" (click)='editGetProductOS(a)'
                                          style="width: 96px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">Edit
                                  </button>
                                </td>
                              </tr>
                            </ng-container>
                            <ng-template #paginatedData_OutStock>
                              <!-- Display paginated items if filteredProducts is empty -->
                              <tr
                                *ngFor="let outofStockProduct of (paginatedOutofStock.length > 0 ? paginatedOutofStock : list_outof_stock); let a = index;">
                                <td align="center"><img src="{{ imagePathURI + outofStockProduct.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)"/></td>
                                <td>{{ outofStockProduct.title }}<br>{{ outofStockProduct.productCode }}</td>
                                <td>
                                  <input type="text" disabled style="width: 100px; height: 30px; border: none;"
                                         [value]="outofStockProduct.price" autofocus/>
                                </td>
                                <td>
                                  <input type="text" disabled style="width:70px; height: 30px; border: none;"
                                         [value]="outofStockProduct.in_stock"/>
                                  <img  style="text-align: right" mat-button (click)="EditStockPopup(a,0,1)"
                                        *ngIf="EnableStockEdit"
                                        src="assets/images/EditImage.png" height="20px" weight="20px" title="Edit Stock">
                                </td>
                                <td>{{ outofStockProduct.createDate }}</td>
                                <td>
                                  <button type="button" (click)='editGetProductOS(a)'
                                          style="width: 96px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">Edit
                                  </button>
                                </td>
                              </tr>
                            </ng-template>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <div class="pull-right" style="margin-top: 15px">
                      <app-pagination
                        [currentPage]="currentPageOS"
                        [totalPages]="totalPagesOS"
                        (pageChange)="onPageChange($event,'OutofStock')"
                      ></app-pagination>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab [title]="getSuspendedPro()" *ngIf="isPartner">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account6" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="col-md-9">
                      <input autofocus type="text" class="form-control" placeholder="Search By Product Name..."
                             (input)="SuspendProductFilter($event.target.value)"/>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <table class="table table-sm table-bordered">
                            <thead class="table-primary">
                            <tr>
                              <th>Product Image</th>
                              <th>Title</th>
                              <th>Price</th>
                              <th>Stock in hand</th>
                              <th>Create Date</th>
                              <th>Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <ng-container *ngIf="filteredSuspendProduct.length > 0; else paginatedData_Suspend">
                              <!-- Display filtered products -->
                              <tr *ngFor="let suspendProduct of filteredSuspendProduct; let b = index;">
                                <td align="center"><img src="{{ imagePathURI + suspendProduct.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)"/></td>
                                <td>{{ suspendProduct.title }}<br>{{ suspendProduct.productCode }}</td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="suspendProduct.price" autofocus/>
                                </td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="suspendProduct.in_stock"/>
                                </td>
                                <td>{{ suspendProduct.createDate }}</td>
                                <td>
                                  <button type="button" (click)='editGetProductSP(b)'
                                          style="width: 96px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">Edit
                                  </button>
                                </td>
                              </tr>
                            </ng-container>
                            <ng-template #paginatedData_Suspend>
                              <!-- Display paginated items if filteredProducts is empty -->
                              <tr
                                *ngFor="let suspendProduct of (paginatedSuspend.length > 0 ? paginatedSuspend : list_suspend); let b = index;">
                                <td align="center"><img src="{{ imagePathURI + suspendProduct.image }}" height="60px"
                                                        width="60px"
                                                        (error)="onImageError($event)"/></td>
                                <td>{{ suspendProduct.title }}<br>{{ suspendProduct.productCode }}</td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="suspendProduct.price" autofocus/>
                                </td>
                                <td>
                                  <input type="text" disabled style="width:100px; height: 30px; border: none;"
                                         [value]="suspendProduct.in_stock"/>
                                </td>
                                <td>{{ suspendProduct.createDate }}</td>
                                <td>
                                  <button type="button" (click)='editGetProductSP(b)'
                                          style="width: 96px;height: 28px;font-size: 10px;"
                                          class="btn btn-outline-success">Edit
                                  </button>
                                </td>
                              </tr>
                            </ng-template>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <div class="pull-right" style="margin-top: 15px">
                      <app-pagination
                        [currentPage]="currentPageSus"
                        [totalPages]="totalPagesSus"
                        (pageChange)="onPageChange($event,'Suspend')"
                      ></app-pagination>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab [title]="getOnDemandPro()" *ngIf="isPartner">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account5" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="clearfix"></div>


                    <table class="table table-sm table-bordered">
                      <thead class="table-primary">
                      <tr>
                        <th>Product Image</th>
                        <th>Title</th>
                        <th>In Stock</th>
                        <th>Add Stock</th>
                        <th>Action</th>
                      </tr>
                      </thead>
                      <tbody>

                      <ng-container>
                        <!-- Display filtered products -->
                        <tr *ngFor="let nonActiveProduct of consignmentProducts; let j = index;">
                          <td align="center"><img src="{{ imagePathURI + nonActiveProduct.image }}" height="60px"
                                                  width="60px"
                                                  (error)="onImageError($event)" (click)="popUpImage(j)" /></td>
                          <!--<td>{{ nonActiveProduct.title }}<br>{{ nonActiveProduct.productCode }}<br>{{ nonActiveProduct.vendor }} <br>{{ nonActiveProduct.categoryPath }}</td>-->
                          <td><p style="margin: 0px; font-size: 16px;font-weight: 600; color: #000">{{ nonActiveProduct.title}}</p><p  style="margin: 0px;font-size: 16px; font-weight: 600;color: #000">{{ nonActiveProduct.productCode }}</p><p  style="margin: 0; color: #190482; font-weight: 600; font-size: 14px">&nbsp; &nbsp;{{nonActiveProduct.vendor}}</p><p style="margin: 0; color: #190482; font-size: 14px; font-weight: 600" > &nbsp; &nbsp;{{nonActiveProduct.categoryPath}}</p></td>
                          <td>
                            {{nonActiveProduct.inStock}}
                          </td>
                          <td>
                            <input class="form-control" type="number" name="vstock" [(ngModel)]="vstock"
                                   pattern="[0-9]*">
                          </td>
                          <td><button type="button"
                                      style="width: 96px;height: 28px;font-size: 10px;"
                                      (click)="UpdateVirtualStocks(j)"
                                      class="btn btn-outline-success">Save Stock
                          </button></td>
                        </tr>
                      </ng-container>
                      </tbody>
                    </table>

                    <!--<ngx-datatable class="bootstrap expandable" [rows]="consignmentProducts"-->
                    <!--[columnMode]="'force'"-->
                    <!--[headerHeight]="50"-->
                    <!--[footerHeight]="50" [rowHeight]="'auto'" [limit]="list_pages2" [selected]="selected"-->
                    <!--[selectionType]="false" [selectAllRowsOnPage]="false">-->

                    <!--<ngx-datatable-column name="Product Code" [width]="27"></ngx-datatable-column>-->
                    <!--<ngx-datatable-column name="Product Name" [width]="40"></ngx-datatable-column>-->
                    <!--<ngx-datatable-column name="In Stock" [width]="10">-->
                    <!--</ngx-datatable-column>-->
                    <!--<ngx-datatable-column name="Add Stock" [width]="10">-->
                    <!--<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"-->
                    <!--let-row="row">-->

                    <!--<input class="form-control" type="number" name="vstock" [(ngModel)]="row.vstock"-->
                    <!--pattern="[0-9]*">-->

                    <!--</ng-template>-->
                    <!--</ngx-datatable-column>-->
                    <!--<ngx-datatable-column name="Action" prop="name" [width]="30">-->
                    <!--<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"-->
                    <!--let-row="row">-->
                    <!--<button type="button"-->
                    <!--style="width: 96px;height: 28px;font-size: 10px;"-->
                    <!--(click)="UpdateVirtualStocks(row)"-->
                    <!--class="btn btn-outline-success">Save Stock-->
                    <!--</button>-->

                    <!--</ng-template>-->
                    <!--</ngx-datatable-column>-->
                    <!--</ngx-datatable>-->
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <!--            <ngb-tab title="SKU List" *ngIf="qaTables">-->
            <!--              <ng-template ngbTabContent>-->
            <!--                <div class="tab-pane fade active show" role="tabpanel" aria-labelledby="account-tab">-->
            <!--                  <div class="custom-datatable">-->
            <!--                    <div *ngIf="isAdmin" class="btn-popup pull-right">-->
            <!--                      <select (change)="getSelectedPartnerProduct()" id="select_pro" class="form-control">-->
            <!--                        <option selected>&#45;&#45; Select Vendor &#45;&#45;</option>-->
            <!--                        <option *ngFor="let partnerArrays of partnerArray" value="{{partnerArrays['name']}}">-->
            <!--                          {{partnerArrays['name']}}-->
            <!--                        </option>-->

            <!--                      </select>-->
            <!--                    </div>-->
            <!--                    <div class="clearfix"></div>-->
            <!--                    <ngx-datatable class="bootstrap expandable" [rows]="getPartnersQrList"-->
            <!--                                   [columnMode]="'force'"-->
            <!--                                   [headerHeight]="50"-->
            <!--                                   [footerHeight]="50" [rowHeight]="'auto'" [limit]="list_pages2" [selected]="selected"-->
            <!--                                   [selectionType]="false" [selectAllRowsOnPage]="false">-->

            <!--                      <ngx-datatable-column name="Product Code" [width]="30"></ngx-datatable-column>-->
            <!--                      <ngx-datatable-column name="Product Name" [width]="30"></ngx-datatable-column>-->
            <!--                      <ngx-datatable-column name="Product SKU" [width]="30"></ngx-datatable-column>-->
            <!--                      <ngx-datatable-column name="QR Image" [width]="30">-->
            <!--                        <ng-template let-row="row" ngx-datatable-cell-template>-->
            <!--                          <img [src]="row.qrImage" width="80" height="80">-->
            <!--                        </ng-template>-->
            <!--                      </ngx-datatable-column>-->
            <!--                      <ngx-datatable-column name="Action" prop="name" [width]="30">-->
            <!--                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"-->
            <!--                                     let-row="row">-->
            <!--                          <button type="button" (click)='printImage(rowIndex)'-->
            <!--                                  style="width: 96px;height: 28px;font-size: 10px;"-->
            <!--                                  class="btn btn-outline-primary">Print-->
            <!--                          </button>-->
            <!--                        </ng-template>-->
            <!--                      </ngx-datatable-column>-->
            <!--                    </ngx-datatable>-->
            <!--                  </div>-->
            <!--                </div>-->
            <!--              </ng-template>-->
            <!--            </ngb-tab>-->
          </ngb-tabset>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Container-fluid Ends-->
