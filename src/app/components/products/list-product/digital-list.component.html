<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">
      <div class="card tab2-card">
        <div class="card-body tab2-card">
          <ngb-tabset class="tab-coupon" (tabChange)="onTabSelect($event)">

            <ngb-tab [title]="getActiveTabTitle()" *ngIf="qaTables">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">

                    <div class="row">
                      <div class="col-md-6">
                        <input id="searchInput" autofocus type="text" class="form-control" placeholder="Enter your search term..."
                               (input)="ProductFilter($event.target.value)" style="width: 60%"/>
                      </div>
<!--                      <div class="col-md-6" *ngIf="isAdmin">-->
<!--                        <input autofocus type="text" class="form-control" placeholder="Search By Business Name..."-->
<!--                               (input)="filterAllProducts($event.target.value)" style="width: 60%"/>-->
<!--                      </div>-->
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <app-table-template [HeadArray]="headActive" [DataArray]="paginatedItems.length > 0 ? paginatedItems : list_pages"
                          [emptyTable]="emptyTableActive" (onPopUpImg)="popUpImage($event)" (onClick)="clickProduct($event)" (onLoadPage)="loadPage($event)" [active]="active"> </app-table-template>
                        </div>
                      </div>
                    </div>
                    <div class="pull-right" style="margin-top: 15px">
                      <app-pagination
                              [currentPage]="currentPage"
                              [totalPages]="totalPages"
                              (pageChange)="onPageChange($event,'ActivePro')"
                      ></app-pagination>
                    </div>
                  </div>
                </div>
              </ng-template>

            </ngb-tab>

            <ngb-tab [title]="getOutofStock()" *ngIf="qaTables">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account5" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="row">
                      <div class="col-md-6">
                        <input autofocus type="text" class="form-control" placeholder="Enter your search term..."
                               (input)="OutofStockFilter($event.target.value)" style="width: 60%"/>
                      </div>
<!--                      <div class="col-md-6" *ngIf="isAdmin">-->
<!--                        <input autofocus type="text" class="form-control" placeholder="Search By Business Name..."-->
<!--                               (input)="filterOutofStockByBusinessName($event.target.value)" style="width: 60%"/>-->
<!--                      </div>-->
                    </div>

                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <app-table-template [HeadArray]="headOut" [DataArray]="paginatedOutofStock.length > 0 ? paginatedOutofStock : list_outof_stock"
                                              [outOfStock]="outOfStock" [emptyTable]="emptyTableOutStock" (onPopUpImg)="popUpImage($event)"  (onAddStock)="UpdateManualOutStocks($event)" > </app-table-template>
                        </div>
                      </div>
                    </div>
                    <div class="pull-right" style="margin-top: 15px">
                      <app-pagination
                              [currentPage]="currentPageOS"
                              [totalPages]="totalPagesOS"
                              (pageChange)="onPageChange($event,'OutofStock')"
                      ></app-pagination>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab [title]="getSuspendedPro()" *ngIf="qaTables">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account6" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="row">
                      <div class="col-md-6">
                        <input autofocus type="text" class="form-control" placeholder="Enter your search term..."
                               style="width: 60%" (input)="SuspendProductFilter($event.target.value)"/>
                      </div>
<!--                      <div class="col-md-6" *ngIf="isAdmin">-->
<!--                        <input autofocus type="text" class="form-control" placeholder="Search By Business Name..."-->
<!--                               style="width: 60%" (input)="SuspendProductFilterByBusinessName($event.target.value)"/>-->
<!--                      </div>-->
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <app-table-template [HeadArray]="headActive" [DataArray]="paginatedSuspend.length > 0 ? paginatedSuspend : list_suspend"
                                              [emptyTable]="emptyTableSus" (onPopUpImg)="popUpImage($event)"      (onEdit)="clickSusEditProduct($event)" [suspend]="suspend"> </app-table-template>
                        </div>
                      </div>
                    </div>
                    <div class="pull-right" style="margin-top: 15px">
                      <app-pagination
                              [currentPage]="currentPageSus"
                              [totalPages]="totalPagesSus"
                              (pageChange)="onPageChange($event,'Suspend')"
                      ></app-pagination>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab [title]="getOnDemandPro()" *ngIf="isPartner">
              <ng-template ngbTabContent>
                <div class="tab-pane fade active show" id="account5" role="tabpanel" aria-labelledby="account-tab">
                  <div class="custom-datatable">
                    <div class="row">
                      <div class="col-md-6">
                        <input id="OnDemandsearchInput" autofocus type="text" class="form-control" placeholder="Enter your search term..."
                               (input)="OnDemandProductFilter($event.target.value)" style="width: 60%;" />
                      </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                      <div class="col-md-9">
                        <div class="row table-responsive"
                             style="margin-top: 1%;max-height:70vh; overflow-y: auto; width: 135%;">
                          <app-table-template [HeadArray]="headOnDemand" [DataArray]="paginatedOnDemand.length > 0 ? paginatedOnDemand : consignmentProducts"
                                              [emptyTable]="emptyTableOnDemand" (onPopUpImg)="popUpImage($event)"       (onAddStock)="UpdateVirtualStocks($event)" [startIndex]="startIndex" [vStock]="vstock" [onDemand]="onDemand" [nonActivePartner]="nonActivePartner"> </app-table-template>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="pull-right" style="margin-top: 15px">
                    <app-pagination
                            [currentPage]="currentPageOnDemand"
                            [totalPages]="totalPagesOnDemand"
                            (pageChange)="onPageChange($event,'PendingOnDemand')"
                    ></app-pagination>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ng-template #imagePopup let-modal>
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title">Image Preview</h4>
                  <button type="button" class="close" (click)="closePopup()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <img [src]="imageUrl" alt="Image" class="img-fluid">
                </div>
              </div>
            </ng-template>
          </ngb-tabset>
        </div>
      </div>
    </div>
  </div>
</div>

